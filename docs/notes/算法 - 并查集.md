<!-- GFM-TOC -->
* [å‰è¨€](#å‰è¨€)
* [Quick Find](#quick-find)
* [Quick Union](#quick-union)
* [åŠ æƒ Quick Union](#åŠ æƒ-quick-union)
* [è·¯å¾„å‹ç¼©çš„åŠ æƒ Quick Union](#è·¯å¾„å‹ç¼©çš„åŠ æƒ-quick-union)
* [æ¯”è¾ƒ](#æ¯”è¾ƒ)
<!-- GFM-TOC -->


# å‰è¨€

ç”¨äºè§£å†³åŠ¨æ€è¿é€šæ€§é—®é¢˜ï¼Œèƒ½åŠ¨æ€è¿æ¥ä¸¤ä¸ªç‚¹ï¼Œå¹¶ä¸”åˆ¤æ–­ä¸¤ä¸ªç‚¹æ˜¯å¦è¿é€šã€‚

<div align="center"> <img src="https://gitee.com/CyC2018/CS-Notes/raw/master/docs/pics/9d0a637c-6a8f-4f5a-99b9-fdcfa26793ff.png" width="400"/> </div><br>

| æ–¹æ³• | æè¿° |
| :---: | :---: |
| UF(int N) | æ„é€ ä¸€ä¸ªå¤§å°ä¸º N çš„å¹¶æŸ¥é›† |
| void union(int p, int q) | è¿æ¥ p å’Œ q èŠ‚ç‚¹ |
| int find(int p) | æŸ¥æ‰¾ p æ‰€åœ¨çš„è¿é€šåˆ†é‡ç¼–å· |
| boolean connected(int p, int q) | åˆ¤æ–­ p å’Œ q èŠ‚ç‚¹æ˜¯å¦è¿é€š |

```java
public abstract class UF {

    protected int[] id;

    public UF(int N) {
        id = new int[N];
        for (int i = 0; i < N; i++) {
            id[i] = i;
        }
    }

    public boolean connected(int p, int q) {
        return find(p) == find(q);
    }

    public abstract int find(int p);

    public abstract void union(int p, int q);
}
```

# Quick Find

å¯ä»¥å¿«é€Ÿè¿›è¡Œ find æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯ä»¥å¿«é€Ÿåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦è¿é€šã€‚

éœ€è¦ä¿è¯åŒä¸€è¿é€šåˆ†é‡çš„æ‰€æœ‰èŠ‚ç‚¹çš„ id å€¼ç›¸ç­‰ã€‚

ä½†æ˜¯ union æ“ä½œä»£ä»·å´å¾ˆé«˜ï¼Œéœ€è¦å°†å…¶ä¸­ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ id å€¼éƒ½ä¿®æ”¹ä¸ºå¦ä¸€ä¸ªèŠ‚ç‚¹çš„ id å€¼ã€‚

<div align="center"> <img src="https://gitee.com/CyC2018/CS-Notes/raw/master/docs/pics/8f0cc500-5994-4c7a-91a9-62885d658662.png" width="350"/> </div><br>

```java
public class QuickFindUF extends UF {

    public QuickFindUF(int N) {
        super(N);
    }


    @Override
    public int find(int p) {
        return id[p];
    }


    @Override
    public void union(int p, int q) {
        int pID = find(p);
        int qID = find(q);

        if (pID == qID) {
            return;
        }

        for (int i = 0; i < id.length; i++) {
            if (id[i] == pID) {
                id[i] = qID;
            }
        }
    }
}
```

# Quick Union

å¯ä»¥å¿«é€Ÿè¿›è¡Œ union æ“ä½œï¼Œåªéœ€è¦ä¿®æ”¹ä¸€ä¸ªèŠ‚ç‚¹çš„ id å€¼å³å¯ã€‚

ä½†æ˜¯ find æ“ä½œå¼€é”€å¾ˆå¤§ï¼Œå› ä¸ºåŒä¸€ä¸ªè¿é€šåˆ†é‡çš„èŠ‚ç‚¹ id å€¼ä¸åŒï¼Œid å€¼åªæ˜¯ç”¨æ¥æŒ‡å‘å¦ä¸€ä¸ªèŠ‚ç‚¹ã€‚å› æ­¤éœ€è¦ä¸€ç›´å‘ä¸ŠæŸ¥æ‰¾æ“ä½œï¼Œç›´åˆ°æ‰¾åˆ°æœ€ä¸Šå±‚çš„èŠ‚ç‚¹ã€‚

<div align="center"> <img src="https://gitee.com/CyC2018/CS-Notes/raw/master/docs/pics/5d4a5181-65fb-4bf2-a9c6-899cab534b44.png" width="350"/> </div><br>

```java
public class QuickUnionUF extends UF {

    public QuickUnionUF(int N) {
        super(N);
    }


    @Override
    public int find(int p) {
        while (p != id[p]) {
            p = id[p];
        }
        return p;
    }


    @Override
    public void union(int p, int q) {
        int pRoot = find(p);
        int qRoot = find(q);

        if (pRoot != qRoot) {
            id[pRoot] = qRoot;
        }
    }
}
```

è¿™ç§æ–¹æ³•å¯ä»¥å¿«é€Ÿè¿›è¡Œ union æ“ä½œï¼Œä½†æ˜¯ find æ“ä½œå’Œæ ‘é«˜æˆæ­£æ¯”ï¼Œæœ€åçš„æƒ…å†µä¸‹æ ‘çš„é«˜åº¦ä¸ºèŠ‚ç‚¹çš„æ•°ç›®ã€‚

<div align="center"> <img src="https://gitee.com/CyC2018/CS-Notes/raw/master/docs/pics/bfbb11e2-d208-4efa-b97b-24cd40467cd8.png" width="130"/> </div><br>

# åŠ æƒ Quick Union

ä¸ºäº†è§£å†³ quick-union çš„æ ‘é€šå¸¸ä¼šå¾ˆé«˜çš„é—®é¢˜ï¼ŒåŠ æƒ quick-union åœ¨ union æ“ä½œæ—¶ä¼šè®©è¾ƒå°çš„æ ‘è¿æ¥è¾ƒå¤§çš„æ ‘ä¸Šé¢ã€‚

ç†è®ºç ”ç©¶è¯æ˜ï¼ŒåŠ æƒ quick-union ç®—æ³•æ„é€ çš„æ ‘æ·±åº¦æœ€å¤šä¸è¶…è¿‡ logNã€‚

<div align="center"> <img src="https://gitee.com/CyC2018/CS-Notes/raw/master/docs/pics/a4c17d43-fa5e-4935-b74e-147e7f7e782c.png" width="170"/> </div><br>

```java
public class WeightedQuickUnionUF extends UF {

    // ä¿å­˜èŠ‚ç‚¹çš„æ•°é‡ä¿¡æ¯
    private int[] sz;


    public WeightedQuickUnionUF(int N) {
        super(N);
        this.sz = new int[N];
        for (int i = 0; i < N; i++) {
            this.sz[i] = 1;
        }
    }


    @Override
    public int find(int p) {
        while (p != id[p]) {
            p = id[p];
        }
        return p;
    }


    @Override
    public void union(int p, int q) {

        int i = find(p);
        int j = find(q);

        if (i == j) return;

        if (sz[i] < sz[j]) {
            id[i] = j;
            sz[j] += sz[i];
        } else {
            id[j] = i;
            sz[i] += sz[j];
        }
    }
}
```

# è·¯å¾„å‹ç¼©çš„åŠ æƒ Quick Union

åœ¨æ£€æŸ¥èŠ‚ç‚¹çš„åŒæ—¶å°†å®ƒä»¬ç›´æ¥é“¾æ¥åˆ°æ ¹èŠ‚ç‚¹ï¼Œåªéœ€è¦åœ¨ find ä¸­æ·»åŠ ä¸€ä¸ªå¾ªç¯å³å¯ã€‚

# æ¯”è¾ƒ

| ç®—æ³• | union | find |
| :---: | :---: | :---: |
| Quick Find | N | 1 |
| Quick Union | æ ‘é«˜ | æ ‘é«˜ |
| åŠ æƒ Quick Union | logN | logN |
| è·¯å¾„å‹ç¼©çš„åŠ æƒ Quick Union | éå¸¸æ¥è¿‘ 1 | éå¸¸æ¥è¿‘ 1 |




</br><div align="center">â­ï¸æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· CyC2018ï¼Œåœ¨å…¬ä¼—å·åå°å›å¤å…³é”®å­— ğŸ“š **èµ„æ–™** å¯é¢†å–å¤ä¹ å¤§çº²ï¼Œè¿™ä»½å¤§çº²æ˜¯æˆ‘èŠ±äº†ä¸€æ•´å¹´æ—¶é—´æ•´ç†çš„é¢è¯•çŸ¥è¯†ç‚¹åˆ—è¡¨ï¼Œä¸ä»…ç³»ç»Ÿæ•´ç†äº†é¢è¯•çŸ¥è¯†ç‚¹ï¼Œè€Œä¸”æ ‡æ³¨äº†å„ä¸ªçŸ¥è¯†ç‚¹çš„é‡è¦ç¨‹åº¦ï¼Œä»è€Œå¸®ä½ ç†æ¸…å¤šè€Œæ‚çš„é¢è¯•çŸ¥è¯†ç‚¹ã€‚å¯ä»¥è¯´æˆ‘åŸºæœ¬æ˜¯æŒ‰ç…§è¿™ä»½å¤§çº²æ¥è¿›è¡Œå¤ä¹ çš„ï¼Œè¿™ä»½å¤§çº²å¯¹æˆ‘æ‹¿åˆ°äº† BAT å¤´æ¡ç­‰ Offer èµ·åˆ°å¾ˆå¤§çš„å¸®åŠ©ã€‚ä½ ä»¬å®Œå…¨å¯ä»¥å’Œæˆ‘ä¸€æ ·æ ¹æ®å¤§çº²ä¸Šåˆ—çš„çŸ¥è¯†ç‚¹æ¥è¿›è¡Œå¤ä¹ ï¼Œå°±ä¸ç”¨çœ‹å¾ˆå¤šä¸é‡è¦çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥çŸ¥é“å“ªäº›å†…å®¹å¾ˆé‡è¦ä»è€Œå¤šå®‰æ’ä¸€äº›å¤ä¹ æ—¶é—´ã€‚</div></br>
<div align="center"><img width="180px" src="https://cyc-1256109796.cos.ap-guangzhou.myqcloud.com/%E5%85%AC%E4%BC%97%E5%8F%B7.jpg"></img></div>
