<!-- GFM-TOC -->
* [æ ˆ](#æ ˆ)
    * [1. æ•°ç»„å®ç°](#1-æ•°ç»„å®ç°)
    * [2. é“¾è¡¨å®ç°](#2-é“¾è¡¨å®ç°)
* [é˜Ÿåˆ—](#é˜Ÿåˆ—)
<!-- GFM-TOC -->


# æ ˆ

```java
public interface MyStack<Item> extends Iterable<Item> {

    MyStack<Item> push(Item item);

    Item pop() throws Exception;

    boolean isEmpty();

    int size();

}
```

## 1. æ•°ç»„å®ç°

```java
public class ArrayStack<Item> implements MyStack<Item> {

    // æ ˆå…ƒç´ æ•°ç»„ï¼Œåªèƒ½é€šè¿‡è½¬å‹æ¥åˆ›å»ºæ³›å‹æ•°ç»„
    private Item[] a = (Item[]) new Object[1];

    // å…ƒç´ æ•°é‡
    private int N = 0;


    @Override
    public MyStack<Item> push(Item item) {
        check();
        a[N++] = item;
        return this;
    }


    @Override
    public Item pop() throws Exception {

        if (isEmpty()) {
            throw new Exception("stack is empty");
        }

        Item item = a[--N];

        check();

        // é¿å…å¯¹è±¡æ¸¸ç¦»
        a[N] = null;

        return item;
    }


    private void check() {

        if (N >= a.length) {
            resize(2 * a.length);

        } else if (N > 0 && N <= a.length / 4) {
            resize(a.length / 2);
        }
    }


    /**
     * è°ƒæ•´æ•°ç»„å¤§å°ï¼Œä½¿å¾—æ ˆå…·æœ‰ä¼¸ç¼©æ€§
     */
    private void resize(int size) {

        Item[] tmp = (Item[]) new Object[size];

        for (int i = 0; i < N; i++) {
            tmp[i] = a[i];
        }

        a = tmp;
    }


    @Override
    public boolean isEmpty() {
        return N == 0;
    }


    @Override
    public int size() {
        return N;
    }


    @Override
    public Iterator<Item> iterator() {

        // è¿”å›é€†åºéå†çš„è¿­ä»£å™¨
        return new Iterator<Item>() {

            private int i = N;

            @Override
            public boolean hasNext() {
                return i > 0;
            }

            @Override
            public Item next() {
                return a[--i];
            }
        };

    }
}
```

## 2. é“¾è¡¨å®ç°

éœ€è¦ä½¿ç”¨é“¾è¡¨çš„å¤´æ’æ³•æ¥å®ç°ï¼Œå› ä¸ºå¤´æ’æ³•ä¸­æœ€åå‹å…¥æ ˆçš„å…ƒç´ åœ¨é“¾è¡¨çš„å¼€å¤´ï¼Œå®ƒçš„ next æŒ‡é’ˆæŒ‡å‘å‰ä¸€ä¸ªå‹å…¥æ ˆçš„å…ƒç´ ï¼Œåœ¨å¼¹å‡ºå…ƒç´ æ—¶å°±å¯ä»¥é€šè¿‡ next æŒ‡é’ˆéå†åˆ°å‰ä¸€ä¸ªå‹å…¥æ ˆçš„å…ƒç´ ä»è€Œè®©è¿™ä¸ªå…ƒç´ æˆä¸ºæ–°çš„æ ˆé¡¶å…ƒç´ ã€‚

```java
public class ListStack<Item> implements MyStack<Item> {

    private Node top = null;
    private int N = 0;


    private class Node {
        Item item;
        Node next;
    }


    @Override
    public MyStack<Item> push(Item item) {

        Node newTop = new Node();

        newTop.item = item;
        newTop.next = top;

        top = newTop;

        N++;

        return this;
    }


    @Override
    public Item pop() throws Exception {

        if (isEmpty()) {
            throw new Exception("stack is empty");
        }

        Item item = top.item;

        top = top.next;
        N--;

        return item;
    }


    @Override
    public boolean isEmpty() {
        return N == 0;
    }


    @Override
    public int size() {
        return N;
    }


    @Override
    public Iterator<Item> iterator() {

        return new Iterator<Item>() {

            private Node cur = top;


            @Override
            public boolean hasNext() {
                return cur != null;
            }


            @Override
            public Item next() {
                Item item = cur.item;
                cur = cur.next;
                return item;
            }
        };

    }
}
```

# é˜Ÿåˆ—

ä¸‹é¢æ˜¯é˜Ÿåˆ—çš„é“¾è¡¨å®ç°ï¼Œéœ€è¦ç»´æŠ¤ first å’Œ last èŠ‚ç‚¹æŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘é˜Ÿé¦–å’Œé˜Ÿå°¾ã€‚

è¿™é‡Œéœ€è¦è€ƒè™‘ first å’Œ last æŒ‡é’ˆå“ªä¸ªä½œä¸ºé“¾è¡¨çš„å¼€å¤´ã€‚å› ä¸ºå‡ºé˜Ÿåˆ—æ“ä½œéœ€è¦è®©é˜Ÿé¦–å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ æˆä¸ºé˜Ÿé¦–ï¼Œæ‰€ä»¥éœ€è¦å®¹æ˜“è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè€Œé“¾è¡¨çš„å¤´éƒ¨èŠ‚ç‚¹çš„ next æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå› æ­¤å¯ä»¥è®© first æŒ‡é’ˆé“¾è¡¨çš„å¼€å¤´ã€‚

```java
public interface MyQueue<Item> extends Iterable<Item> {

    int size();

    boolean isEmpty();

    MyQueue<Item> add(Item item);

    Item remove() throws Exception;
}
```

```java
public class ListQueue<Item> implements MyQueue<Item> {

    private Node first;
    private Node last;
    int N = 0;


    private class Node {
        Item item;
        Node next;
    }


    @Override
    public boolean isEmpty() {
        return N == 0;
    }


    @Override
    public int size() {
        return N;
    }


    @Override
    public MyQueue<Item> add(Item item) {

        Node newNode = new Node();
        newNode.item = item;
        newNode.next = null;

        if (isEmpty()) {
            last = newNode;
            first = newNode;
        } else {
            last.next = newNode;
            last = newNode;
        }

        N++;
        return this;
    }


    @Override
    public Item remove() throws Exception {

        if (isEmpty()) {
            throw new Exception("queue is empty");
        }

        Node node = first;
        first = first.next;
        N--;

        if (isEmpty()) {
            last = null;
        }

        return node.item;
    }


    @Override
    public Iterator<Item> iterator() {

        return new Iterator<Item>() {

            Node cur = first;


            @Override
            public boolean hasNext() {
                return cur != null;
            }


            @Override
            public Item next() {
                Item item = cur.item;
                cur = cur.next;
                return item;
            }
        };
    }
}
```




</br><div align="center">â­ï¸æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å· CyC2018ï¼Œåœ¨å…¬ä¼—å·åå°å›å¤å…³é”®å­— ğŸ“š **èµ„æ–™** å¯é¢†å–å¤ä¹ å¤§çº²ï¼Œè¿™ä»½å¤§çº²æ˜¯æˆ‘èŠ±äº†ä¸€æ•´å¹´æ—¶é—´æ•´ç†çš„é¢è¯•çŸ¥è¯†ç‚¹åˆ—è¡¨ï¼Œä¸ä»…ç³»ç»Ÿæ•´ç†äº†é¢è¯•çŸ¥è¯†ç‚¹ï¼Œè€Œä¸”æ ‡æ³¨äº†å„ä¸ªçŸ¥è¯†ç‚¹çš„é‡è¦ç¨‹åº¦ï¼Œä»è€Œå¸®ä½ ç†æ¸…å¤šè€Œæ‚çš„é¢è¯•çŸ¥è¯†ç‚¹ã€‚å¯ä»¥è¯´æˆ‘åŸºæœ¬æ˜¯æŒ‰ç…§è¿™ä»½å¤§çº²æ¥è¿›è¡Œå¤ä¹ çš„ï¼Œè¿™ä»½å¤§çº²å¯¹æˆ‘æ‹¿åˆ°äº† BAT å¤´æ¡ç­‰ Offer èµ·åˆ°å¾ˆå¤§çš„å¸®åŠ©ã€‚ä½ ä»¬å®Œå…¨å¯ä»¥å’Œæˆ‘ä¸€æ ·æ ¹æ®å¤§çº²ä¸Šåˆ—çš„çŸ¥è¯†ç‚¹æ¥è¿›è¡Œå¤ä¹ ï¼Œå°±ä¸ç”¨çœ‹å¾ˆå¤šä¸é‡è¦çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥çŸ¥é“å“ªäº›å†…å®¹å¾ˆé‡è¦ä»è€Œå¤šå®‰æ’ä¸€äº›å¤ä¹ æ—¶é—´ã€‚</div></br>
<div align="center"><img width="180px" src="https://cyc-1256109796.cos.ap-guangzhou.myqcloud.com/%E5%85%AC%E4%BC%97%E5%8F%B7.jpg"></img></div>
